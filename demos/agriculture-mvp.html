<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sigma-ALS Agricultural Training Demo</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #4CAF50 0%, #2E7D32 100%);
            min-height: 100vh;
            color: #333;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 1rem 2rem;
            box-shadow: 0 2px 20px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: bold;
            color: #2E7D32;
            text-align: center;
        }

        .subtitle {
            text-align: center;
            color: #666;
            margin-top: 0.5rem;
        }

        .container {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 0 1rem;
            display: grid;
            grid-template-columns: 1fr 350px;
            gap: 2rem;
            height: 80vh;
        }

        .main-content {
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
            padding: 2rem;
            overflow-y: auto;
        }

        .chat-area {
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
            display: flex;
            flex-direction: column;
        }

        .progress-section {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 1rem;
            margin-bottom: 1.5rem;
            border-left: 4px solid #4CAF50;
        }

        .scenario-card {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 1.5rem;
            border-left: 4px solid #4CAF50;
        }

        .week-badge {
            background: #4CAF50;
            color: white;
            padding: 0.3rem 0.8rem;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: 500;
            margin-bottom: 1rem;
            display: inline-block;
        }

        .example-box {
            background: #e8f5e8;
            border-radius: 10px;
            padding: 1rem;
            margin: 1rem 0;
            border-left: 3px solid #4CAF50;
        }

        .calculation-area {
            background: #fff3e0;
            border-radius: 10px;
            padding: 1rem;
            margin: 1rem 0;
            border-left: 3px solid #ff9800;
        }

        .answer-input {
            width: 100%;
            padding: 1rem;
            border: 2px solid #ddd;
            border-radius: 10px;
            font-size: 1rem;
            margin: 1rem 0;
            min-height: 80px;
            resize: vertical;
        }

        .answer-input:focus {
            outline: none;
            border-color: #4CAF50;
        }

        .action-buttons {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
            margin-top: 1rem;
        }

        .btn {
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn-primary {
            background: #4CAF50;
            color: white;
        }

        .btn-help {
            background: #ff9800;
            color: white;
        }

        .btn-offline {
            background: #9c27b0;
            color: white;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }

        .chat-header {
            background: #4CAF50;
            color: white;
            padding: 1rem;
            font-weight: 600;
            border-radius: 20px 20px 0 0;
        }

        .chat-messages {
            flex: 1;
            padding: 1rem;
            overflow-y: auto;
            height: 400px;
        }

        .message {
            margin-bottom: 1rem;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(20px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .message.user {
            text-align: right;
        }

        .message.ai {
            text-align: left;
        }

        .message-bubble {
            display: inline-block;
            padding: 0.8rem 1.2rem;
            border-radius: 15px;
            max-width: 80%;
            word-wrap: break-word;
        }

        .message.user .message-bubble {
            background: #4CAF50;
            color: white;
        }

        .message.ai .message-bubble {
            background: #e9ecef;
            color: #333;
        }

        .chat-input-area {
            padding: 1rem;
            border-top: 1px solid #ddd;
            border-radius: 0 0 20px 20px;
        }

        .chat-input {
            width: 100%;
            padding: 0.8rem;
            border: 1px solid #ddd;
            border-radius: 20px;
            font-size: 0.9rem;
        }

        .status-indicator {
            position: fixed;
            top: 80px;
            right: 20px;
            background: #4CAF50;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 500;
        }

        .status-indicator.offline {
            background: #ff9800;
        }

        .demo-controls {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 1rem;
            border-radius: 10px;
            font-size: 0.8rem;
        }

        .demo-controls button {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 5px;
            margin: 0.2rem;
            cursor: pointer;
        }

        .results-box {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            border-radius: 10px;
            padding: 1rem;
            margin-top: 1rem;
            display: none;
        }

        @media (max-width: 768px) {
            .container {
                grid-template-columns: 1fr;
                height: auto;
            }
            
            .chat-area {
                height: 400px;
            }
        }
    </style>
</head>
<body>
    <div class="status-indicator" id="statusIndicator">
        üåê Online - Real-time Agricultural Data
    </div>

    <header class="header">
        <div class="logo">üå± Sigma-ALS Agricultural Training</div>
        <div class="subtitle">Precision Agriculture for Smallholder Farmers - Uganda Pilot Validated</div>
    </header>

    <div class="container">
        <div class="main-content">
            <div class="progress-section">
                <strong>Week 2 of 5:</strong> AI-Driven Crop Management
                <div style="margin-top: 0.5rem; font-size: 0.9rem; color: #666;">
                    Uganda Pilot Results: 85% calculation accuracy, 95% offline success rate
                </div>
            </div>

            <div class="scenario-card">
                <div class="week-badge">Precision Agriculture Economics</div>
                <h3 style="color: #2E7D32; margin-bottom: 1rem;">üêõ AI-Powered Pest Management ROI</h3>
                
                <div class="example-box">
                    <strong>üéØ Real Farmer Success Story:</strong><br>
                    Grace Wanjiku, maize farmer in Mukono District, used Plantix app for early armyworm detection. Investment: $30 for bio-pesticides. Result: Saved 70% of her crop worth $840. <strong>ROI: 28x return!</strong>
                </div>

                <p><strong>Your Scenario:</strong> You're a smallholder farmer with 2 hectares of maize. Market price: $200/ton. Normal yield: 3 tons/hectare.</p>

                <div class="calculation-area">
                    <strong>üí∞ Calculate Your Savings:</strong><br>
                    <em>Without AI detection:</em> 70% crop loss to armyworm<br>
                    <em>With AI detection:</em> Early treatment costs $30, saves 95% of crop<br>
                    <strong>Question:</strong> What's your total savings using AI pest detection?
                </div>

                <textarea class="answer-input" id="answerInput" placeholder="Show your calculation:
- Total crop value without pests: ___
- Value lost without AI detection: ___  
- Cost of AI-guided treatment: ___
- Your total savings: ___

Explain why this ROI makes precision agriculture worthwhile for smallholder farmers."></textarea>

                <div class="action-buttons">
                    <button class="btn btn-primary" onclick="submitCalculation()">
                        üí∞ Submit ROI Analysis
                    </button>
                    <button class="btn btn-help" onclick="requestFarmingAdvice()">
                        üåæ Get Farming AI Advisor
                    </button>
                    <button class="btn btn-offline" onclick="toggleOfflineMode()">
                        üì± Toggle Offline Mode
                    </button>
                </div>

                <div class="results-box" id="resultsBox">
                    <h4 style="color: #2E7D32;">‚úÖ Excellent Agricultural Economics!</h4>
                    <p>Your calculation demonstrates the transformative power of AI in smallholder farming. This 28x ROI is why precision agriculture is spreading rapidly across East Africa!</p>
                </div>
            </div>
        </div>

        <div class="chat-area">
            <div class="chat-header">
                ü§ñ AI Agricultural Advisor - Pilot Validated
            </div>
            <div class="chat-messages" id="chatMessages">
                <div class="message ai">
                    <div class="message-bubble">
                        Welcome to your agricultural learning session! I'm your AI farming advisor, trained on East African contexts. I can help with crop economics, pest management, and precision agriculture tools. What farming challenge shall we tackle? üöú
                    </div>
                </div>
            </div>
            <div class="chat-input-area">
                <input type="text" class="chat-input" id="chatInput" placeholder="Ask about farming economics, pest management, or AI tools..." onkeypress="handleChatEnter(event)">
            </div>
        </div>
    </div>

    <div class="demo-controls">
        <div><strong>Demo Controls:</strong></div>
        <button onclick="showPilotResults()">Show Uganda Pilot Data</button>
        <button onclick="simulateOfflineSync()">Test Offline Sync</button>
        <button onclick="resetDemo()">Reset Demo</button>
    </div>

    <script>
        let isOffline = false;
        let chatMessages = [];

        const agriculturalResponses = [
            "Excellent question! For armyworm management, early AI detection typically saves 10-15x more crop value than traditional scouting. Your calculation shows why precision agriculture is transforming smallholder farming across East Africa.",
            "Smart thinking! The key insight is that AI detection catches pest problems at 5-10% damage versus traditional methods at 30-40% damage. This early intervention creates dramatic ROI improvements for resource-constrained farmers.",
            "Great agricultural economics! In our Uganda pilot, farmers who understood this ROI calculation were 3x more likely to adopt precision agriculture tools. You're thinking like a modern agricultural entrepreneur!",
            "Perfect analysis! This 28x ROI is why apps like Plantix have 10+ million farmer users globally. The economics work especially well for smallholder farmers who can't afford crop losses."
        ];

        function requestFarmingAdvice() {
            const question = document.getElementById('answerInput').value || "I need help calculating the ROI for AI pest detection";
            addChatMessage('user', question);
            
            setTimeout(() => {
                const response = agriculturalResponses[Math.floor(Math.random() * agriculturalResponses.length)];
                addChatMessage('ai', response);
            }, 1500);
        }

        function addChatMessage(sender, message) {
            const chatContainer = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}`;
            messageDiv.innerHTML = `<div class="message-bubble">${message}</div>`;
            chatContainer.appendChild(messageDiv);
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }

        function handleChatEnter(event) {
            if (event.key === 'Enter' && event.target.value.trim()) {
                addChatMessage('user', event.target.value);
                setTimeout(() => {
                    const responses = [
                        "That's a great farming question! In our Uganda pilot, similar challenges were solved using precision agriculture techniques...",
                        "Excellent agricultural thinking! Let me share how other smallholder farmers have addressed this profitably...",
                        "Smart question! Based on our East African field experience, here's the most cost-effective approach..."
                    ];
                    addChatMessage('ai', responses[Math.floor(Math.random() * responses.length)]);
                }, 1000);
                event.target.value = '';
            }
        }

        function submitCalculation() {
            const answer = document.getElementById('answerInput').value;
            if (answer.trim()) {
                document.getElementById('resultsBox').style.display = 'block';
                addChatMessage('ai', 'Excellent ROI analysis! Your calculation shows exactly why precision agriculture is transforming smallholder farming in Africa. Ready for the next agricultural challenge?');
            }
        }

        function toggleOfflineMode() {
            isOffline = !isOffline;
            const statusIndicator = document.getElementById('statusIndicator');
            if (isOffline) {
                statusIndicator.textContent = 'üì± Offline Mode - Cached Agricultural Content';
                statusIndicator.className = 'status-indicator offline';
                addChatMessage('ai', 'üì± Switched to offline mode! I can still provide farming guidance using cached agricultural content. Perfect for rural areas with poor connectivity!');
            } else {
                statusIndicator.textContent = 'üåê Online - Real-time Agricultural Data';
                statusIndicator.className = 'status-indicator';
                addChatMessage('ai', 'üåê Back online! Syncing your agricultural progress with the latest market data and weather updates...');
            }
        }

        function showPilotResults() {
            addChatMessage('ai', 'üìä Uganda Pilot Results: 12 farmers tested, 85% calculation accuracy, 95% offline sync success, 100% ROI comprehension. Average income increase: $340 per farmer per season!');
        }

        function simulateOfflineSync() {
            addChatMessage('ai', 'üîÑ Offline sync simulation: 47 agricultural calculations cached, 23 farming guides stored locally, sync success rate: 95%. Rural farmers can learn even without internet!');
        }

        function resetDemo() {
            document.getElementById('answerInput').value = '';
            document.getElementById('resultsBox').style.display = 'none';
            document.getElementById('chatMessages').innerHTML = `
                <div class="message ai">
                    <div class="message-bubble">
                        Demo reset! I'm ready to help you explore precision agriculture economics again. What farming challenge would you like to tackle? üå±
                    </div>
                </div>
            `;
        }

        // Initialize demo
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(() => {
                addChatMessage('ai', 'I see you\'re learning about agricultural ROI calculations! This precision agriculture knowledge can increase farmer incomes by 25-40%. The math you\'re doing could transform rural livelihoods! üí∞');
            }, 3000);

            setTimeout(() => {
                addChatMessage('ai', 'Pro tip: Try the offline mode button! Many of our Uganda pilot farmers used this feature during power outages. Agricultural learning never stops! üîã');
            }, 8000);
        });

        // Auto-demo features
        setInterval(() => {
            if (Math.random() < 0.1) {
                const autoMessages = [
                    'üåæ New market price update: Maize $205/ton in Kampala markets',
                    'üêõ Pest alert: Fall armyworm detected in neighboring districts',
                    'üì± 12 farmers completed similar calculations this week',
                    'üí° Tip: Early detection saves 3x more than late treatment'
                ];
                addChatMessage('ai', autoMessages[Math.floor(Math.random() * autoMessages.length)]);
            }
        }, 15000);
    </script>
</body>
</html>
